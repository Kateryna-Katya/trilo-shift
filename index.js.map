{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n    // 1. Иконки\n    if (typeof lucide !== 'undefined') lucide.createIcons();\n\n    // 2. Плавный скролл\n    const lenis = new Lenis();\n    function raf(time) { lenis.raf(time); requestAnimationFrame(raf); }\n    requestAnimationFrame(raf);\n\n    // 3. Мобильное меню\n    const burger = document.getElementById('burgerBtn');\n    const mobileMenu = document.getElementById('mobileMenu');\n    const mobileLinks = document.querySelectorAll('.mobile-link, .mobile-cta');\n\n    if (burger && mobileMenu) {\n        const toggleMenu = () => {\n            burger.classList.toggle('active');\n            mobileMenu.classList.toggle('active');\n            document.body.style.overflow = mobileMenu.classList.contains('active') ? 'hidden' : '';\n        };\n        burger.addEventListener('click', toggleMenu);\n        mobileLinks.forEach(link => link.addEventListener('click', toggleMenu));\n    }\n\n    // 4. GSAP Hero Анимация (С фиксом слов)\n    if (document.querySelector('.hero__title')) {\n        const heroTitle = new SplitType('.hero__title', { types: 'words,chars' });\n        gsap.from(heroTitle.chars, {\n            opacity: 0,\n            y: 30,\n            stagger: 0.02,\n            duration: 1,\n            ease: \"power3.out\"\n        });\n    }\n\n    // 5. Форма и Капча\n    const form = document.getElementById('mainForm');\n    if (form) {\n        const captchaLabel = document.getElementById('captchaLabel');\n        const captchaInput = document.getElementById('captchaInput');\n        let n1 = Math.floor(Math.random() * 10), n2 = Math.floor(Math.random() * 5);\n        let ans = n1 + n2;\n        if (captchaLabel) captchaLabel.innerText = `Сколько будет ${n1} + ${n2}?`;\n\n        form.addEventListener('submit', (e) => {\n            e.preventDefault();\n            if (parseInt(captchaInput.value) !== ans) {\n                alert('Капча введена неверно!');\n                return;\n            }\n            const btn = form.querySelector('button');\n            btn.innerText = 'Отправка...';\n            setTimeout(() => {\n                form.reset();\n                document.getElementById('formSuccess').style.display = 'block';\n                btn.innerText = 'Отправлено';\n            }, 1500);\n        });\n    }\n\n    // 6. Cookie Popup\n    const cp = document.getElementById('cookiePopup');\n    const ca = document.getElementById('acceptCookies');\n    if (cp && !localStorage.getItem('trilo_cookies')) {\n        setTimeout(() => cp.classList.add('active'), 2500);\n    }\n    if (ca) {\n        ca.addEventListener('click', () => {\n            localStorage.setItem('trilo_cookies', 'true');\n            cp.classList.remove('active');\n        });\n    }\n});"],"names":["lenis","raf","time","burger","mobileMenu","mobileLinks","toggleMenu","link","heroTitle","form","captchaLabel","captchaInput","n1","n2","ans","e","btn","cp","ca"],"mappings":"0uBAAA,SAAS,iBAAiB,mBAAoB,IAAM,CAE5C,OAAO,OAAW,KAAa,OAAO,YAAa,EAGvD,MAAMA,EAAQ,IAAI,MAClB,SAASC,EAAIC,EAAM,CAAEF,EAAM,IAAIE,CAAI,EAAG,sBAAsBD,CAAG,CAAE,CACjE,sBAAsBA,CAAG,EAGzB,MAAME,EAAS,SAAS,eAAe,WAAW,EAC5CC,EAAa,SAAS,eAAe,YAAY,EACjDC,EAAc,SAAS,iBAAiB,2BAA2B,EAEzE,GAAIF,GAAUC,EAAY,CACtB,MAAME,EAAa,IAAM,CACrBH,EAAO,UAAU,OAAO,QAAQ,EAChCC,EAAW,UAAU,OAAO,QAAQ,EACpC,SAAS,KAAK,MAAM,SAAWA,EAAW,UAAU,SAAS,QAAQ,EAAI,SAAW,EACvF,EACDD,EAAO,iBAAiB,QAASG,CAAU,EAC3CD,EAAY,QAAQE,GAAQA,EAAK,iBAAiB,QAASD,CAAU,CAAC,CAC9E,CAGI,GAAI,SAAS,cAAc,cAAc,EAAG,CACxC,MAAME,EAAY,IAAI,UAAU,eAAgB,CAAE,MAAO,cAAe,EACxE,KAAK,KAAKA,EAAU,MAAO,CACvB,QAAS,EACT,EAAG,GACH,QAAS,IACT,SAAU,EACV,KAAM,YAClB,CAAS,CACT,CAGI,MAAMC,EAAO,SAAS,eAAe,UAAU,EAC/C,GAAIA,EAAM,CACN,MAAMC,EAAe,SAAS,eAAe,cAAc,EACrDC,EAAe,SAAS,eAAe,cAAc,EAC3D,IAAIC,EAAK,KAAK,MAAM,KAAK,OAAM,EAAK,EAAE,EAAGC,EAAK,KAAK,MAAM,KAAK,OAAM,EAAK,CAAC,EACtEC,EAAMF,EAAKC,EACXH,IAAcA,EAAa,UAAY,iBAAiBE,CAAE,MAAMC,CAAE,KAEtEJ,EAAK,iBAAiB,SAAWM,GAAM,CAEnC,GADAA,EAAE,eAAgB,EACd,SAASJ,EAAa,KAAK,IAAMG,EAAK,CACtC,MAAM,wBAAwB,EAC9B,MAChB,CACY,MAAME,EAAMP,EAAK,cAAc,QAAQ,EACvCO,EAAI,UAAY,cAChB,WAAW,IAAM,CACbP,EAAK,MAAO,EACZ,SAAS,eAAe,aAAa,EAAE,MAAM,QAAU,QACvDO,EAAI,UAAY,YACnB,EAAE,IAAI,CACnB,CAAS,CACT,CAGI,MAAMC,EAAK,SAAS,eAAe,aAAa,EAC1CC,EAAK,SAAS,eAAe,eAAe,EAC9CD,GAAM,CAAC,aAAa,QAAQ,eAAe,GAC3C,WAAW,IAAMA,EAAG,UAAU,IAAI,QAAQ,EAAG,IAAI,EAEjDC,GACAA,EAAG,iBAAiB,QAAS,IAAM,CAC/B,aAAa,QAAQ,gBAAiB,MAAM,EAC5CD,EAAG,UAAU,OAAO,QAAQ,CACxC,CAAS,CAET,CAAC"}